# RelayPACS Production Environment Configuration

# =============================================================================
# SECURITY (CRITICAL - CHANGE THESE VALUES!)
# =============================================================================

# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=REPLACE_WITH_SECURE_SECRET_KEY

# JWT Configuration
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=60
UPLOAD_TOKEN_EXPIRE_MINUTES=30

# =============================================================================
# APPLICATION
# =============================================================================

APP_NAME=RelayPACS
DEBUG=false
API_HOST=0.0.0.0
API_PORT=8003

# =============================================================================
# DATABASE (PostgreSQL - REQUIRED for production)
# =============================================================================

DATABASE_URL=postgresql+psycopg2://relaypacs:STRONG_PASSWORD@postgres:5432/relaypacs

# =============================================================================
# CORS - Update with your production domain
# =============================================================================

CORS_ORIGINS=["https://relaypacs.yourdomain.com","https://api.relaypacs.yourdomain.com"]

# =============================================================================
# S3 STORAGE
# =============================================================================

USE_S3=true
S3_ENDPOINT=https://s3.amazonaws.com  # Or your S3-compatible endpoint
S3_ACCESS_KEY=YOUR_S3_ACCESS_KEY
S3_SECRET_KEY=YOUR_S3_SECRET_KEY
S3_BUCKET=relaypacs-production
S3_REGION=us-east-1

# =============================================================================
# PACS INTEGRATION
# =============================================================================

AE_TITLE=RELAYPACS

# Orthanc PACS
ORTHANC_URL=http://orthanc:8042
ORTHANC_WADO_URL=http://orthanc:8042/dicom-web
ORTHANC_USERNAME=orthanc
ORTHANC_PASSWORD=STRONG_ORTHANC_PASSWORD

# dcm4che PACS
DCM4CHEE_URL=http://dcm4chee:8080/dcm4chee-arc/aets/DCM4CHEE/rs
DCM4CHEE_WADO_URL=http://dcm4chee:8080/dcm4chee-arc/aets/DCM4CHEE/rs

# Active PACS
ACTIVE_PACS=dcm4chee
PACS_POLL_INTERVAL_SECONDS=30

# =============================================================================
# UPLOAD CONFIGURATION
# =============================================================================

MAX_FILE_SIZE_MB=2048
CHUNK_SIZE_MB=1

# =============================================================================
# CACHING (Redis)
# =============================================================================

REDIS_URL=redis://redis:6379

# =============================================================================
# REPORTS & NOTIFICATIONS
# =============================================================================

REPORTS_DB_PATH=data/reports.db

# =============================================================================
# ERROR MONITORING (Sentry - HIGHLY RECOMMENDED)
# =============================================================================

# Get your DSN from https://sentry.io/settings/projects/
SENTRY_DSN=https://YOUR_SENTRY_DSN@sentry.io/PROJECT_ID
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# =============================================================================
# DEPLOYMENT CONFIGURATION
# =============================================================================

# Set to true if using container registry (for deploy.sh)
PULL_IMAGES=false

# SSL/TLS Configuration
SSL_ENABLED=true
SSL_CERT_PATH=/etc/ssl/certs/relaypacs.crt
SSL_KEY_PATH=/etc/ssl/private/relaypacs.key

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================

# Backup retention (days)
BACKUP_RETENTION_DAYS=30

# Backup schedule (cron format)
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM

# =============================================================================
# MONITORING
# =============================================================================

# Prometheus (if enabled)
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# Grafana (if enabled)
GRAFANA_ENABLED=true
GRAFANA_PORT=3000
GRAFANA_ADMIN_PASSWORD=STRONG_GRAFANA_PASSWORD

# =============================================================================
# SECURITY NOTES
# =============================================================================
#
# 1. NEVER commit this file to version control
# 2. Store securely (encrypted filesystem, secrets manager, etc.)
# 3. Use strong, unique passwords for all services
# 4. Rotate credentials regularly (every 90 days minimum)
# 5. Enable Sentry for production error monitoring
# 6. Use HTTPS/TLS for all external communications
# 7. Regular security audits and updates
#
